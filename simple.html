<html>
<head>
<style>
canvas { width: 100%; height: 100% }
#controls{
	position:absolute;
	opacity:0.7;
}
a{
	text-decoration:none;
}
</style>
</head>
<body>

<div id="controls">
	
	<div id="axis">
		<span class="wrap">
			<h3>x axis</h3>
			<a href="javascript:" class="plus" data-axis="x">+</a>
			<a href="javascript:" class="minus" data-axis="x">-</a>
		</span>
		<span class="wrap">
			<h3>y axis</h3>
			<a href="javascript:" class="plus" data-axis="y">+</a>
			<a href="javascript:" class="minus" data-axis="y">-</a>
		</span>
		<span class="wrap">
			<h3>z axis</h3>
			<a href="javascript:" class="plus" data-axis="z">+</a>
			<a href="javascript:" class="minus" data-axis="z">-</a>
		</span>	
	</div>
	
	<div id="rotate">

		<span class="rotations">
			<h3>rotate x axis</h3>
			<a href="javascript:" class="plus" data-axis="x">+</a>
			<a href="javascript:" class="minus" data-axis="x">-</a>
		</span>

		<span class="rotations">
			<h3>rotate y axis</h3>
			<a href="javascript:" class="plus" data-axis="y">+</a>
			<a href="javascript:" class="minus" data-axis="y">-</a>
		</span>
		
		<span class="wrap">
			<h3>rotate z axis</h3>
			<a href="javascript:" class="plus" data-axis="z">+</a>
			<a href="javascript:" class="minus" data-axis="z">-</a>
		</span>

	</div>	
</div>



<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js"></script>
<script src="js/Three.js"></script>
<script src="js/RequestAnimationFrame.js"></script>

<script type="text/javascript">

	var $controls = [];
	
	
	$(document).ready(function(){
		
		
		var scene = new THREE.Scene(); 
		var camera = new THREE.PerspectiveCamera(45, window.innerWidth/window.innerHeight, 0.1, 10000);  

		var renderer = new THREE.WebGLRenderer(); 
		renderer.setSize(window.innerWidth, window.innerHeight); 
		document.body.appendChild(renderer.domElement);

		var floorGeometry = new THREE.PlaneGeometry(30, 30, 30, 30);
		var floorMaterial = new THREE.MeshBasicMaterial({
			color : 0xFFCC00,
		});

		var floor = new THREE.Mesh(floorGeometry, floorMaterial);

		
		scene.add(floor);  
		
		var x = 0, z = 143, y = 0;
		camera.position.x = 0;
		camera.position.y = 0;
		camera.position.z = 100;
		
		console.log(scene.position);

		addLines(floorGeometry, scene)

		function render() { 
			//requestAnimationFrame(render); 
			console.log(scene.position);
			camera.lookAt(scene.position)
			renderer.render(scene, camera); 
		} 


		render();
		
		var rx = ry = rz = 50;
		floor.rotation.x = rx;
		floor.rotation.y = ry;
		floor.rotation.z = rz;
		
		$rotate = $('#rotate');
		$rotate.click(function(event){
			var axis = $(event.target).attr('data-axis');
			var operation = $(event.target).attr('class');
			var incrementVal = getIncrementValue(operation);
			
			switch(axis){
				case 'x' :
					rx = rx + incrementVal;
					break;
				case 'y' :
					ry = ry + incrementVal;
					break;
				case 'z' :
					rz = rz + incrementVal;
					break;
			}
			
			console.log(rx, ry, rz);
			
			floor.rotation.x = rx;
			floor.rotation.y = ry;
			floor.rotation.z = rz;
			
			render();
			
		})		
		
		
		$axis = $('#axis');
		$axis.click(function(event){
			var axis = $(event.target).attr('data-axis');
			var operation = $(event.target).attr('class');
			var incrementVal = getIncrementValue(operation);
			
			switch(axis){
				case 'x' :
					x = x + incrementVal;
					break;
				case 'y' :
					y = y + incrementVal;
					break;
				case 'z' :
					z = z + incrementVal;
					break;
			}
			
			console.log(x, y, z);
			
			camera.position.x = x;
			camera.position.y = y;
			camera.position.z = z;
			
			render();
			
		})
		
		function getIncrementValue(operation){
			if(operation == 'minus') return -1;
			return 1;
		}
		
	});
	
	
	function addLines(geometry, scene){
		
		geometry.computeBoundingBox();
        var minx = geometry.boundingBox.min.x;
        var miny = geometry.boundingBox.min.y;
        var minz = geometry.boundingBox.min.z;
        var maxx = geometry.boundingBox.max.x;
        var maxy = geometry.boundingBox.max.y;
        var maxz = geometry.boundingBox.max.z;

        var xsize = (maxx - minx);
        var ysize = (maxy - miny);
        var zsize = (maxz - minz);

        var halfx = xsize / 2;
        var halfy = ysize / 2;
        var halfz = zsize / 2;

        var midx = halfx + minx;
        var midy = halfy + miny;
        var midz = halfz + minz;

		var xLineMat = new THREE.LineBasicMaterial({
            color: 0xcc0000, opacity: 0.5, linewidth: 1
        });
        var xLineGeom = new THREE.Geometry();
        xLineGeom.vertices.push(new THREE.Vector3(minx, midy, 0));
        xLineGeom.vertices.push(new THREE.Vector3(maxx, midy, 0));

        var yLineMat = new THREE.LineBasicMaterial({
            color: 0x0000cc, opacity: 0.5, linewidth: 1
        });
        var yLineGeom = new THREE.Geometry();
        yLineGeom.vertices.push(new THREE.Vector3(midx, miny, 0));
        yLineGeom.vertices.push(new THREE.Vector3(midx, maxy, 0));

        var zLineMat = new THREE.LineBasicMaterial({
            color: 0x00cc00, opacity: 0.5, linewidth: 1
        });
        var zLineGeom = new THREE.Geometry();
        zLineGeom.vertices.push(new THREE.Vector3(midx, midy, Math.min(0, minz)));
        zLineGeom.vertices.push(new THREE.Vector3(midx, midy, Math.max(0, maxz)));

        var xLine = new THREE.Line(xLineGeom, xLineMat);
        var yLine = new THREE.Line(yLineGeom, yLineMat);
        var zLine = new THREE.Line(zLineGeom, zLineMat);

        scene.add(xLine);
        scene.add(yLine);
        scene.add(zLine);
	}
	
	
	


</script>

</body>
</html>